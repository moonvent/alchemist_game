[gd_scene load_steps=42 format=3 uid="uid://dq83nruv4u00g"]

[ext_resource type="Script" uid="uid://dreaoqgudy5p4" path="res://character/base_character.gd" id="1_cbbf5"]
[ext_resource type="Texture2D" uid="uid://dnb74x2rlb6y8" path="res://assets/map/gfx/character.png" id="2_e2pm5"]
[ext_resource type="AudioStream" uid="uid://cf3cn2pc1kbbc" path="res://assets/sounds/sword_clash.mp3" id="3_8p57o"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_2okd7"]
size = Vector2(13.5, 10)

[sub_resource type="AtlasTexture" id="AtlasTexture_s67x6"]
atlas = ExtResource("2_e2pm5")
region = Rect2(5, 134, 19, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_msy5d"]
atlas = ExtResource("2_e2pm5")
region = Rect2(38, 134, 19, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_fildl"]
atlas = ExtResource("2_e2pm5")
region = Rect2(71, 135, 18, 25)

[sub_resource type="AtlasTexture" id="AtlasTexture_c23r0"]
atlas = ExtResource("2_e2pm5")
region = Rect2(103, 135, 18, 25)

[sub_resource type="AtlasTexture" id="AtlasTexture_p8u6a"]
atlas = ExtResource("2_e2pm5")
region = Rect2(8, 230, 14, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_sqdi0"]
atlas = ExtResource("2_e2pm5")
region = Rect2(32, 229, 22, 22)

[sub_resource type="AtlasTexture" id="AtlasTexture_dq66u"]
atlas = ExtResource("2_e2pm5")
region = Rect2(66, 229, 22, 22)

[sub_resource type="AtlasTexture" id="AtlasTexture_nabne"]
atlas = ExtResource("2_e2pm5")
region = Rect2(100, 229, 20, 22)

[sub_resource type="AtlasTexture" id="AtlasTexture_jqgs2"]
atlas = ExtResource("2_e2pm5")
region = Rect2(7, 198, 18, 22)

[sub_resource type="AtlasTexture" id="AtlasTexture_5km08"]
atlas = ExtResource("2_e2pm5")
region = Rect2(40, 198, 21, 22)

[sub_resource type="AtlasTexture" id="AtlasTexture_e3ei2"]
atlas = ExtResource("2_e2pm5")
region = Rect2(72, 197, 17, 21)

[sub_resource type="AtlasTexture" id="AtlasTexture_8t4e8"]
atlas = ExtResource("2_e2pm5")
region = Rect2(104, 197, 17, 21)

[sub_resource type="AtlasTexture" id="AtlasTexture_edm10"]
atlas = ExtResource("2_e2pm5")
region = Rect2(8, 166, 17, 21)

[sub_resource type="AtlasTexture" id="AtlasTexture_is0on"]
atlas = ExtResource("2_e2pm5")
region = Rect2(40, 166, 17, 21)

[sub_resource type="AtlasTexture" id="AtlasTexture_gbt8c"]
atlas = ExtResource("2_e2pm5")
region = Rect2(71, 166, 17, 21)

[sub_resource type="AtlasTexture" id="AtlasTexture_c41op"]
atlas = ExtResource("2_e2pm5")
region = Rect2(103, 166, 17, 21)

[sub_resource type="AtlasTexture" id="AtlasTexture_dbyr2"]
atlas = ExtResource("2_e2pm5")
region = Rect2(0, 4, 16, 25)

[sub_resource type="AtlasTexture" id="AtlasTexture_i8wxe"]
atlas = ExtResource("2_e2pm5")
region = Rect2(16, 4, 16, 25)

[sub_resource type="AtlasTexture" id="AtlasTexture_0hubq"]
atlas = ExtResource("2_e2pm5")
region = Rect2(32, 4, 16, 25)

[sub_resource type="AtlasTexture" id="AtlasTexture_xf6ur"]
atlas = ExtResource("2_e2pm5")
region = Rect2(48, 4, 16, 25)

[sub_resource type="AtlasTexture" id="AtlasTexture_vqvow"]
atlas = ExtResource("2_e2pm5")
region = Rect2(0, 101, 16, 22)

[sub_resource type="AtlasTexture" id="AtlasTexture_wdgka"]
atlas = ExtResource("2_e2pm5")
region = Rect2(16, 101, 16, 22)

[sub_resource type="AtlasTexture" id="AtlasTexture_q2xji"]
atlas = ExtResource("2_e2pm5")
region = Rect2(32, 101, 16, 22)

[sub_resource type="AtlasTexture" id="AtlasTexture_8oe0w"]
atlas = ExtResource("2_e2pm5")
region = Rect2(48, 101, 16, 22)

[sub_resource type="AtlasTexture" id="AtlasTexture_eyg4s"]
atlas = ExtResource("2_e2pm5")
region = Rect2(0, 38, 16, 22)

[sub_resource type="AtlasTexture" id="AtlasTexture_5kb0b"]
atlas = ExtResource("2_e2pm5")
region = Rect2(16, 38, 16, 22)

[sub_resource type="AtlasTexture" id="AtlasTexture_qu0ws"]
atlas = ExtResource("2_e2pm5")
region = Rect2(32, 38, 16, 22)

[sub_resource type="AtlasTexture" id="AtlasTexture_i5vle"]
atlas = ExtResource("2_e2pm5")
region = Rect2(48, 38, 16, 22)

[sub_resource type="AtlasTexture" id="AtlasTexture_53guy"]
atlas = ExtResource("2_e2pm5")
region = Rect2(0, 68, 16, 22)

[sub_resource type="AtlasTexture" id="AtlasTexture_rownq"]
atlas = ExtResource("2_e2pm5")
region = Rect2(32, 68, 16, 22)

[sub_resource type="AtlasTexture" id="AtlasTexture_6a7jo"]
atlas = ExtResource("2_e2pm5")
region = Rect2(48, 68, 16, 22)

[sub_resource type="AtlasTexture" id="AtlasTexture_pf0yf"]
atlas = ExtResource("2_e2pm5")
region = Rect2(16, 68, 16, 22)

[sub_resource type="SpriteFrames" id="SpriteFrames_xhtuk"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_s67x6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_msy5d")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fildl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_c23r0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_s67x6")
}],
"loop": false,
"name": &"attack_down",
"speed": 1.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_p8u6a")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sqdi0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dq66u")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nabne")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_p8u6a")
}],
"loop": false,
"name": &"attack_left",
"speed": 1.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_jqgs2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5km08")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_e3ei2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8t4e8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jqgs2")
}],
"loop": false,
"name": &"attack_right",
"speed": 1.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_edm10")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_is0on")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gbt8c")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_c41op")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_edm10")
}],
"loop": false,
"name": &"attack_up",
"speed": 1.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_dbyr2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i8wxe")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0hubq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xf6ur")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dbyr2")
}],
"loop": false,
"name": &"move_down",
"speed": 1.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_vqvow")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wdgka")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_q2xji")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8oe0w")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vqvow")
}],
"loop": false,
"name": &"move_left",
"speed": 1.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_eyg4s")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5kb0b")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qu0ws")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i5vle")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_eyg4s")
}],
"loop": false,
"name": &"move_right",
"speed": 1.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_53guy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rownq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6a7jo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pf0yf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_53guy")
}],
"loop": false,
"name": &"move_up",
"speed": 1.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4ps06"]
size = Vector2(5, 3.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_5jcwa"]
size = Vector2(3, 7.25)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4ggn6"]
size = Vector2(3.5, 11.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3s2go"]
size = Vector2(7, 3)

[node name="BaseCharacter" type="CharacterBody2D"]
collision_layer = 0
collision_mask = 0
script = ExtResource("1_cbbf5")

[node name="CollisionShapeForMap" type="CollisionShape2D" parent="."]
position = Vector2(-0.25, 5)
shape = SubResource("RectangleShape2D_2okd7")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
sprite_frames = SubResource("SpriteFrames_xhtuk")
animation = &"attack_down"
speed_scale = 10.0

[node name="Collisions" type="Node2D" parent="."]

[node name="Attack" type="Node2D" parent="Collisions"]

[node name="Down" type="Node2D" parent="Collisions/Attack"]

[node name="First" type="Area2D" parent="Collisions/Attack/Down"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Collisions/Attack/Down/First"]
position = Vector2(-4, 1.5)
shape = SubResource("RectangleShape2D_4ps06")
disabled = true

[node name="Second" type="Area2D" parent="Collisions/Attack/Down"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Collisions/Attack/Down/Second"]
polygon = PackedVector2Array(-7, 3, -4, 13, 3, 5, 1, 3, -3, 6)
disabled = true

[node name="Third" type="Area2D" parent="Collisions/Attack/Down"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Collisions/Attack/Down/Third"]
polygon = PackedVector2Array(3, 4, 6, 4, 6, 12, 0, 10)
disabled = true

[node name="Right" type="Node2D" parent="Collisions/Attack"]
visible = false

[node name="First" type="Area2D" parent="Collisions/Attack/Right"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Collisions/Attack/Right/First"]
polygon = PackedVector2Array(2, 6, 9, 11, 9, 8, 4, 4)
disabled = true

[node name="Second" type="Area2D" parent="Collisions/Attack/Right"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Collisions/Attack/Right/Second"]
position = Vector2(0, -3)
polygon = PackedVector2Array(3, 7, 7, 7, 5, 14, 9, 9, 10, 4, 3, 4)
disabled = true

[node name="Third" type="Area2D" parent="Collisions/Attack/Right"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Collisions/Attack/Right/Third"]
position = Vector2(7, -1.625)
shape = SubResource("RectangleShape2D_5jcwa")
disabled = true

[node name="Up" type="Node2D" parent="Collisions/Attack"]
visible = false

[node name="First" type="Area2D" parent="Collisions/Attack/Up"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Collisions/Attack/Up/First"]
position = Vector2(6.5, 2.75)
shape = SubResource("RectangleShape2D_4ps06")
disabled = true

[node name="Second" type="Area2D" parent="Collisions/Attack/Up"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Collisions/Attack/Up/Second"]
position = Vector2(6.75, -2.75)
shape = SubResource("RectangleShape2D_4ggn6")
disabled = true

[node name="Third" type="Area2D" parent="Collisions/Attack/Up"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Collisions/Attack/Up/Third"]
position = Vector2(0.5, -9.5)
shape = SubResource("RectangleShape2D_3s2go")
disabled = true

[node name="Left" type="Node2D" parent="Collisions/Attack"]
visible = false

[node name="First" type="Area2D" parent="Collisions/Attack/Left"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Collisions/Attack/Left/First"]
position = Vector2(-2, 0)
polygon = PackedVector2Array(-3, 11, 3, 5, 1, 3, -3, 6, -5, 9)
disabled = true

[node name="Second" type="Area2D" parent="Collisions/Attack/Left"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Collisions/Attack/Left/Second"]
position = Vector2(-8, -3)
polygon = PackedVector2Array(3, 4, 6, 4, 6, 8, 2, 8, 3, 15, -1, 10, -3, 5)
disabled = true

[node name="Third" type="Area2D" parent="Collisions/Attack/Left"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Collisions/Attack/Left/Third"]
position = Vector2(-8, -3)
polygon = PackedVector2Array(5, 2, 4, 5, 0, 4, -1, 0, -1, -3)
disabled = true

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("3_8p57o")

[connection signal="animation_finished" from="AnimatedSprite2D" to="." method="_on_animated_sprite_2d_animation_finished"]
[connection signal="frame_changed" from="AnimatedSprite2D" to="." method="_on_animated_sprite_2d_frame_changed"]
